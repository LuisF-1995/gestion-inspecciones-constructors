<main class="register-container">
  <div class="card">
    <section class="card-header">
      <h2>Registro</h2>
    </section>
    <section class="card-body">
      <form (ngSubmit)="register()" ngNativeValidate>
        <div class="mb-3">
          <label for="inputName" class="form-label">Nombres y apellidos</label>
          <input [(ngModel)]="registerData.nombres" name="nombre" type="text" class="form-control" id="inputName" placeholder="Pepito perez" required>
        </div>
        <div class="mb-3">
          <label for="inputTel" class="form-label">Telefono</label>
          <input [(ngModel)]="registerData.telefono" name="telefono" type="tel" class="form-control" id="inputTel" placeholder="1234567890">
        </div>
        <div class="mb-3">
          <label for="inputEmail" class="form-label">Correo Electrónico</label>
          <input [(ngModel)]="registerData.email" name="email" type="email" class="form-control" id="inputEmail" placeholder="nombre@ejemplo.com" required>
          @if(errorMessage.length > 0){
            <div>
              {{errorMessage}}
            </div>
          }
        </div>
        <div class="mb-3">
          <label for="inputPassword" class="form-label">Contraseña</label>
          <div style="display: flex;">
            <input [(ngModel)]="registerData.password" [type]="hidePassword ? 'password' : 'text'" name="password" class="form-control" id="inputPassword" placeholder="Contraseña" required>
            <button mat-icon-button matSuffix (click)="hidePassword = !hidePassword" [attr.aria-label]="'Hide password'" [attr.aria-pressed]="hidePassword">
              <mat-icon>{{hidePassword ? 'visibility_off' : 'visibility'}}</mat-icon>
            </button>
          </div>
        </div>
        <div class="mb-3">
          <label for="validatePassword" class="form-label">Validar contraseña</label>
          <div style="display: flex;">
            <input [(ngModel)]="passValidate" [type]="hidePassValidator ? 'password' : 'text'" name="passValidate" class="form-control" id="validatePassword" placeholder="Misma contraseña" (change)="validatePassword()" required>
            <button mat-icon-button matSuffix (click)="hidePassValidator = !hidePassValidator" [attr.aria-label]="'Hide password'" [attr.aria-pressed]="hidePassValidator">
              <mat-icon>{{hidePassValidator ? 'visibility_off' : 'visibility'}}</mat-icon>
            </button>
          </div>
        </div>

        <button type="submit" class="btn btn-primary" [disabled]="!samePassword">Registrarme</button>
      </form>
    </section>
    <section class="login-client">
      <p>¿Ya estás registrado?</p>
      <a [routerLink]="loginUrl">Iniciar sesión</a>
    </section>
  </div>
  <spinner [show]="showSpinner" [message]="spinnerMessage"></spinner>
</main>
